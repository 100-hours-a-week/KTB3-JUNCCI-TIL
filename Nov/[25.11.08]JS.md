# ğŸ“š JS í•µì‹¬ ê°œë… ì •ë¦¬(fetch())

---
# <mark> fetch() </mark>

---

## 1ï¸âƒ£ `fetch()`ë€?

> **`fetch()`ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥ ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ,
> HTTP ìš”ì²­ì„ ë³´ë‚´ê³  ì„œë²„ì˜ ì‘ë‹µ(Response)ì„ ë°›ì•„ì˜¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.**

---

### ê¸°ë³¸ ë¬¸ë²•

```jsx
fetch(url, options)
```

| ë§¤ê°œë³€ìˆ˜      | ì„¤ëª…                               |
| --------- | -------------------------------- |
| `url`     | ìš”ì²­ì„ ë³´ë‚¼ ì£¼ì†Œ(API ì—”ë“œí¬ì¸íŠ¸ ë“±)           |
| `options` | (ì„ íƒ) HTTP ë©”ì„œë“œ, í—¤ë”, ë°”ë”” ë“±ì„ ì„¤ì •í•˜ëŠ” ê°ì²´ |

---

### ë°˜í™˜ê°’ (Promise)

`fetch()`ëŠ” í˜¸ì¶œ ì¦‰ì‹œ **Promise ê°ì²´ë¥¼ ë°˜í™˜**í•©ë‹ˆë‹¤.

ê²°ê³¼ëŠ” ë‚˜ì¤‘ì— `.then()` ë˜ëŠ” `await`ì—ì„œ ë°›ìŠµë‹ˆë‹¤.

---

## 2ï¸âƒ£ Promise(í”„ë¡œë¯¸ìŠ¤)ë€?

> ë¹„ë™ê¸° ì—°ì‚°ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´

`fetch()`ê°€ ë°˜í™˜í•˜ëŠ” PromiseëŠ” ì•„ë˜ 3ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤.

| ìƒíƒœ          | ì˜ë¯¸                |
| ----------- | ----------------- |
| `pending`   | ëŒ€ê¸° ì¤‘              |
| `fulfilled` | ì„±ê³µ â†’ `then()` ì‹¤í–‰  |
| `rejected`  | ì‹¤íŒ¨ â†’ `catch()` ì‹¤í–‰ |

---

## 3ï¸âƒ£ ì½”ë“œ ë¶„ì„

```jsx
function getUserData() {
  fetch('https://api.example.com/user') // â‘  ìš”ì²­ ë³´ë‚´ê¸°
    .then(res => res.json())            // â‘¡ ì‘ë‹µ JSON íŒŒì‹±
    .then(data => console.log(data));   // â‘¢ ë°ì´í„° ì¶œë ¥
}
```

### ë™ì‘ íë¦„

1. **ì„œë²„ì— GET ìš”ì²­ â†’ Promise ë°˜í™˜**
2. ìš”ì²­ ì„±ê³µ ì‹œ `res.json()` ì‹¤í–‰ (ì‘ë‹µ ë³¸ë¬¸ íŒŒì‹±)
3. íŒŒì‹±ëœ JSON ë°ì´í„°ë¥¼ ë‹¤ìŒ `.then()`ì—ì„œ ë°›ìŒ

---

## 4ï¸âƒ£ ë¹„ë™ê¸° ì‹¤í–‰ ìˆœì„œ ì˜ˆì‹œ

```jsx
console.log("1. ìš”ì²­ ì‹œì‘");

fetch('https://api.example.com/user')
  .then(res => res.json())
  .then(data => console.log("3. ì‘ë‹µ ì™„ë£Œ", data));

console.log("2. ì½”ë“œ ê³„ì† ì‹¤í–‰");
```

### ì‹¤ì œ ì¶œë ¥ ìˆœì„œ

```
1. ìš”ì²­ ì‹œì‘
2. ì½”ë“œ ê³„ì† ì‹¤í–‰
3. ì‘ë‹µ ì™„ë£Œ {name: "Kim", age: 30}
```

â¡ï¸ **`fetch()`ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘**í•˜ê¸° ë•Œë¬¸ì—
ìš”ì²­ì„ ë³´ë‚´ë„ ì½”ë“œ ì‹¤í–‰ íë¦„ì´ ë©ˆì¶”ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## 5ï¸âƒ£ fetch() ì˜µì…˜ ì‚¬ìš© ì˜ˆì‹œ

```jsx
fetch('https://api.example.com/user', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: 'Kim', age: 30 })
})
  .then(res => res.json())
  .then(data => console.log('ì‘ë‹µ:', data))
  .catch(err => console.error('ì—ëŸ¬ ë°œìƒ:', err));
```

| ì˜µì…˜         | ì„¤ëª…                                          |
| ---------- | ------------------------------------------- |
| `method`   | HTTP ë©”ì„œë“œ (`GET`, `POST`, `PUT`, `DELETE` ë“±) |
| `headers`  | ìš”ì²­ í—¤ë” ì„¤ì •                                    |
| `body`     | ì„œë²„ë¡œ ë³´ë‚¼ ë°ì´í„°(ë¬¸ìì—´ í˜•íƒœ)                          |
| `.catch()` | ì—ëŸ¬ ì²˜ë¦¬                                       |

---

## 6ï¸âƒ£ then() ì²´ì¸ì˜ ì˜ë¯¸

```jsx
fetch(url)
  .then(â‘  ì„±ê³µ ì½œë°±)
  .catch(â‘¡ ì‹¤íŒ¨ ì½œë°±)
  .finally(â‘¢ í•­ìƒ ì‹¤í–‰);
```

### íŠ¹ì§•

* `then()`ì€ **ìƒˆë¡œìš´ Promise**ë¥¼ ë°˜í™˜ â†’ ì²´ì´ë‹ ê°€ëŠ¥
* `catch()`ëŠ” ìš”ì²­ ë˜ëŠ” `then()` ë‚´ë¶€ ì˜¤ë¥˜ë„ ì¡ìŒ
* `finally()`ëŠ” ì„±ê³µ/ì‹¤íŒ¨ ìƒê´€ì—†ì´ ë§ˆì§€ë§‰ì— ì‹¤í–‰

---

## 7ï¸âƒ£ async/await ë¬¸ë²•

ë” ì½ê¸° ì¢‹ì€ ë¹„ë™ê¸° ë¬¸ë²•.

```jsx
async function getUserData() {
  try {
    const res = await fetch('https://api.example.com/user');
    const data = await res.json();
    console.log(data);
  } catch (error) {
    console.error("ì—ëŸ¬ ë°œìƒ:", error);
  }
}
```

| êµ¬ë¬¸            | í˜•íƒœ                            | íŠ¹ì§•        |
| ------------- | ----------------------------- | --------- |
| `then()`      | `fetch().then(...).then(...)` | ì „í†µì ì¸ ë°©ì‹   |
| `async/await` | `await fetch()`               | ì½ê¸° ì‰½ê³  ì§ê´€ì  |

---

## 8ï¸âƒ£ ì •ë¦¬ ìš”ì•½

| í•­ëª©               | ì„¤ëª…                          |
| ---------------- | --------------------------- |
| **`fetch()`**    | HTTP ìš”ì²­ì„ ë³´ë‚´ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜         |
| **ë°˜í™˜ê°’**          | `Promise<Response>`         |
| **`then()`**     | Promise ì„±ê³µ ê²°ê³¼ ì²˜ë¦¬            |
| **`res.json()`** | ì‘ë‹µ ë³¸ë¬¸ì„ JSON ê°ì²´ë¡œ íŒŒì‹±          |
| **ë¹„ë™ê¸° íë¦„**       | ìš”ì²­ â†’ ì‘ë‹µ ëŒ€ê¸° â†’ ë°ì´í„° ì²˜ë¦¬         |
| **ì—ëŸ¬ ì²˜ë¦¬**        | `.catch()` ë˜ëŠ” `try...catch` |

---

